import"../chunks/DsnmJJEf.js";import{i as vt}from"../chunks/DF5PvCx1.js";import{b0 as bt,G as Q,ao as gt,Z as mt,ag as _t,h as yt,b1 as Ot,p as I,ap as C,f as O,a as m,b as D,U as d,ar as b,c as T,aY as j,d as F,aX as $,r as w,a$ as Et,b2 as Ct,b3 as Nt,A as Ue,aj as wt,am as Ft,a_ as Me,a7 as kt,z as me,a8 as _e,B as Pt,t as oe,b4 as Tt,V,s as A,D as ze,aq as xt,e as ne,F as It,$ as Dt}from"../chunks/C5LA6A6C.js";import{h as Rt}from"../chunks/BREqsfzT.js";import{a as St}from"../chunks/Cs5rBEav.js";import{q as At,r as Gt,s as Pe,u as Xe,v as Bt,x as $t,y as Lt,z as Mt,A as ee,B as U,C as ye,D as ie,E as le,F as Kt,G as Vt,H as Wt,J as Oe,K as jt,L as Ye,N as Ht,O as Ke,P as qt,Q as Ut,R as zt,S as Xt,f as N,c as Yt}from"../chunks/DXQ6A7q_.js";import{c as Zt,s as P,m as H,a as Jt,u as Qt,n as es,e as Ve,i as We}from"../chunks/BVjC56xd.js";import{h as ts}from"../chunks/Djh2AKXT.js";import{c as te}from"../chunks/CoXfQH1V.js";import{a as q,s as ss,r as as,c as rs}from"../chunks/DuxplqVH.js";import{s as Ee}from"../chunks/54knkZjx.js";import{r as os,b as ns}from"../chunks/DhxihCwL.js";import{i as L,r as M}from"../chunks/D-qMGKLK.js";function is(e,s,r=s){var t=new WeakSet;bt(e,"input",async a=>{var i=a?e.defaultValue:e.value;if(i=Ce(e)?Ne(i):i,r(i),Q!==null&&t.add(Q),await gt(),i!==(i=s())){var n=e.selectionStart,l=e.selectionEnd,f=e.value.length;if(e.value=i??"",l!==null){var c=e.value.length;n===l&&l===f&&c>f?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=n,e.selectionEnd=Math.min(l,c))}}}),(yt&&e.defaultValue!==e.value||mt(s)==null&&e.value)&&(r(Ce(e)?Ne(e.value):e.value),Q!==null&&t.add(Q)),_t(()=>{var a=s();if(e===document.activeElement){var i=Ot??Q;if(t.has(i))return}Ce(e)&&a===Ne(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Ce(e){var s=e.type;return s==="number"||s==="range"}function Ne(e){return e===""?null:+e}const G=Zt();var ls=T("<div></div>");function cs(e,s){I(s,!0);const r=M(s,["$$slots","$$events","$$legacy"]),t=G.consume(),a=b(()=>s.element),i=b(()=>j(r,["element"])),n=b(()=>H(t().getBackdropProps(),d(i)));var l=C(),f=O(l);{var c=v=>{var u=C(),o=O(u);P(o,()=>d(a),()=>d(n)),m(v,u)},h=v=>{var u=ls();q(u,()=>({...d(n)})),m(v,u)};L(f,v=>{d(a)?v(c):v(h,!1)})}m(e,l),D()}var ds=T("<button><!></button>");function us(e,s){I(s,!0);const r=M(s,["$$slots","$$events","$$legacy"]),t=G.consume(),a=b(()=>s.element),i=b(()=>s.children),n=b(()=>j(r,["element","children"])),l=b(()=>H(t().getCloseTriggerProps(),d(n)));var f=C(),c=O(f);{var h=u=>{var o=C(),p=O(o);P(p,()=>d(a),()=>d(l)),m(u,o)},v=u=>{var o=ds();q(o,()=>({...d(l)}));var p=F(o);P(p,()=>d(i)??$),w(o),m(u,o)};L(c,u=>{d(a)?u(h):u(v,!1)})}m(e,f),D()}var fs=T("<div><!></div>");function hs(e,s){I(s,!0);const r=M(s,["$$slots","$$events","$$legacy"]),t=G.consume(),a=b(()=>s.element),i=b(()=>s.children),n=b(()=>j(r,["element","children"])),l=b(()=>H(t().getContentProps(),d(n)));var f=C(),c=O(f);{var h=u=>{var o=C(),p=O(o);P(p,()=>d(a),()=>d(l)),m(u,o)},v=u=>{var o=fs();q(o,()=>({...d(l)}));var p=F(o);P(p,()=>d(i)??$),w(o),m(u,o)};L(c,u=>{d(a)?u(h):u(v,!1)})}m(e,f),D()}var ps=T("<div><!></div>");function vs(e,s){I(s,!0);const r=M(s,["$$slots","$$events","$$legacy"]),t=G.consume(),a=b(()=>s.element),i=b(()=>s.children),n=b(()=>j(r,["element","children"])),l=b(()=>H(t().getDescriptionProps(),d(n)));var f=C(),c=O(f);{var h=u=>{var o=C(),p=O(o);P(p,()=>d(a),()=>d(l)),m(u,o)},v=u=>{var o=ps();q(o,()=>({...d(l)}));var p=F(o);P(p,()=>d(i)??$),w(o),m(u,o)};L(c,u=>{d(a)?u(h):u(v,!1)})}m(e,f),D()}var bs=T("<div><!></div>");function gs(e,s){I(s,!0);const r=M(s,["$$slots","$$events","$$legacy"]),t=G.consume(),a=b(()=>s.element),i=b(()=>s.children),n=b(()=>j(r,["element","children"])),l=b(()=>H(t().getPositionerProps(),d(n)));var f=C(),c=O(f);{var h=u=>{var o=C(),p=O(o);P(p,()=>d(a),()=>d(l)),m(u,o)},v=u=>{var o=bs();q(o,()=>({...d(l)}));var p=F(o);P(p,()=>d(i)??$),w(o),m(u,o)};L(c,u=>{d(a)?u(h):u(v,!1)})}m(e,f),D()}function ms(e,s){I(s,!0);const r=G.consume(),t=b(()=>s.children);var a=C(),i=O(a);P(i,()=>d(t),()=>r),m(e,a),D()}function _s(e,s){I(s,!0);const r=b(()=>s.children),t=b(()=>s.value);G.provide(()=>d(t)());var a=C(),i=O(a);P(i,()=>d(r)??$),m(e,a),D()}var z=new WeakMap,ce=new WeakMap,de={},we=0,Ze=e=>e&&(e.host||Ze(e.parentNode)),ys=(e,s)=>s.map(r=>{if(e.contains(r))return r;const t=Ze(r);return t&&e.contains(t)?t:(console.error("[zag-js > ariaHidden] target",r,"in not contained inside",e,". Doing nothing"),null)}).filter(r=>!!r),Os=new Set(["script","output","status","next-route-announcer"]),Es=e=>Os.has(e.localName)||e.role==="status"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),Cs=(e,s)=>{const{parentNode:r,markerName:t,controlAttribute:a,followControlledElements:i=!0}=s,n=ys(r,Array.isArray(e)?e:[e]);de[t]||(de[t]=new WeakMap);const l=de[t],f=[],c=new Set,h=new Set(n),v=o=>{!o||c.has(o)||(c.add(o),v(o.parentNode))};n.forEach(o=>{v(o),i&&At(o)&&Gt(o,p=>{v(p)})});const u=o=>{!o||h.has(o)||Array.prototype.forEach.call(o.children,p=>{if(c.has(p))u(p);else try{if(Es(p))return;const B=p.getAttribute(a)==="true",K=(z.get(p)||0)+1,S=(l.get(p)||0)+1;z.set(p,K),l.set(p,S),f.push(p),K===1&&B&&ce.set(p,!0),S===1&&p.setAttribute(t,""),B||p.setAttribute(a,"true")}catch(R){console.error("[zag-js > ariaHidden] cannot operate on ",p,R)}})};return u(r),c.clear(),we++,()=>{f.forEach(o=>{const p=z.get(o)-1,R=l.get(o)-1;z.set(o,p),l.set(o,R),p||(ce.has(o)||o.removeAttribute(a),ce.delete(o)),R||o.removeAttribute(t)}),we--,we||(z=new WeakMap,z=new WeakMap,ce=new WeakMap,de={})}},Ns=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,ws=(e,s=Ns(e),r="data-aria-hidden",t=!0)=>{if(s)return Cs(e,{parentNode:s,markerName:r,controlAttribute:"aria-hidden",followControlledElements:t})},Fs=e=>{const s=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(s)};function ks(e,s={}){const{defer:r=!0}=s,t=r?Fs:i=>i(),a=[];return a.push(t(()=>{const n=(typeof e=="function"?e():e).filter(Boolean);n.length!==0&&a.push(ws(n))})),()=>{a.forEach(i=>i?.())}}var Ps=Object.defineProperty,Ts=(e,s,r)=>s in e?Ps(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,y=(e,s,r)=>Ts(e,typeof s!="symbol"?s+"":s,r),je={activateTrap(e,s){if(e.length>0){const t=e[e.length-1];t!==s&&t.pause()}const r=e.indexOf(s);r===-1||e.splice(r,1),e.push(s)},deactivateTrap(e,s){const r=e.indexOf(s);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},xs=[],Is=class{constructor(e,s){y(this,"trapStack"),y(this,"config"),y(this,"doc"),y(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),y(this,"portalContainers",new Set),y(this,"listenerCleanups",[]),y(this,"handleFocus",t=>{const a=le(t),i=this.findContainerIndex(a,t)>=0;if(i||Kt(a))i&&(this.state.mostRecentlyFocusedNode=a);else{t.stopImmediatePropagation();let n,l=!0;if(this.state.mostRecentlyFocusedNode)if(ee(this.state.mostRecentlyFocusedNode)>0){const f=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:c}=this.state.containerGroups[f];if(c.length>0){const h=c.findIndex(v=>v===this.state.mostRecentlyFocusedNode);h>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?h+1<c.length&&(n=c[h+1],l=!1):h-1>=0&&(n=c[h-1],l=!1))}}else this.state.containerGroups.some(f=>f.tabbableNodes.some(c=>ee(c)>0))||(l=!1);else l=!1;l&&(n=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),n?this.tryFocus(n):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),y(this,"handlePointerDown",t=>{const a=le(t);if(!(this.findContainerIndex(a,t)>=0)){if(se(this.config.clickOutsideDeactivates,t)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}se(this.config.allowOutsideClick,t)||t.preventDefault()}}),y(this,"handleClick",t=>{const a=le(t);this.findContainerIndex(a,t)>=0||se(this.config.clickOutsideDeactivates,t)||se(this.config.allowOutsideClick,t)||(t.preventDefault(),t.stopImmediatePropagation())}),y(this,"handleTabKey",t=>{if(this.config.isKeyForward(t)||this.config.isKeyBackward(t)){this.state.recentNavEvent=t;const a=this.config.isKeyBackward(t),i=this.findNextNavNode({event:t,isBackward:a});if(!i)return;Fe(t)&&t.preventDefault(),this.tryFocus(i)}}),y(this,"handleEscapeKey",t=>{Ss(t)&&se(this.config.escapeDeactivates,t)!==!1&&(t.preventDefault(),this.deactivate())}),y(this,"_mutationObserver"),y(this,"setupMutationObserver",()=>{const t=this.doc.defaultView||window;this._mutationObserver=new t.MutationObserver(a=>{a.some(l=>Array.from(l.removedNodes).some(c=>c===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode()),a.some(l=>l.type==="attributes"&&(l.attributeName==="aria-controls"||l.attributeName==="aria-expanded")?!0:l.type==="childList"&&l.addedNodes.length>0?Array.from(l.addedNodes).some(f=>{if(f.nodeType!==Node.ELEMENT_NODE)return!1;const c=f;return Vt(c)?!0:c.id&&!this.state.containers.some(h=>h.contains(c))?Wt(c):!1}):!1)&&this.state.active&&!this.state.paused&&(this.updateTabbableNodes(),this.updatePortalContainers())})}),y(this,"updateObservedNodes",()=>{this._mutationObserver?.disconnect(),this.state.active&&!this.state.paused&&(this.state.containers.map(t=>{this._mutationObserver?.observe(t,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}),this.portalContainers.forEach(t=>{this.observePortalContainer(t)}))}),y(this,"getInitialFocusNode",()=>{let t=this.getNodeForOption("initialFocus",{hasFallback:!0});if(t===!1)return!1;if(t===void 0||t&&!Oe(t)){const a=ye(this.doc);if(a&&this.findContainerIndex(a)>=0)t=a;else{const i=this.state.tabbableGroups[0];t=i&&i.firstTabbableNode||this.getNodeForOption("fallbackFocus")}}else t===null&&(t=this.getNodeForOption("fallbackFocus"));if(!t)throw new Error("Your focus-trap needs to have at least one focusable element");return t.isConnected||(t=this.getNodeForOption("fallbackFocus")),t}),y(this,"tryFocus",t=>{if(t!==!1&&t!==ye(this.doc)){if(!t||!t.focus){this.tryFocus(this.getInitialFocusNode());return}t.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=t,As(t)&&t.select()}}),y(this,"deactivate",t=>{if(!this.state.active)return this;const a={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...t};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),je.deactivateTrap(this.trapStack,this),this.portalContainers.clear();const i=this.getOption(a,"onDeactivate"),n=this.getOption(a,"onPostDeactivate"),l=this.getOption(a,"checkCanReturnFocus"),f=this.getOption(a,"returnFocus","returnFocusOnDeactivate");i?.();const c=()=>{He(()=>{if(f){const h=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(h)}n?.()})};if(f&&l){const h=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return l(h).then(c,c),this}return c(),this}),y(this,"pause",t=>{if(this.state.paused||!this.state.active)return this;const a=this.getOption(t,"onPause"),i=this.getOption(t,"onPostPause");return this.state.paused=!0,a?.(),this.removeListeners(),this.updateObservedNodes(),i?.(),this}),y(this,"unpause",t=>{if(!this.state.paused||!this.state.active)return this;const a=this.getOption(t,"onUnpause"),i=this.getOption(t,"onPostUnpause");return this.state.paused=!1,a?.(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),i?.(),this}),y(this,"updateContainerElements",t=>(this.state.containers=Array.isArray(t)?t.filter(Boolean):[t].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),y(this,"getReturnFocusNode",t=>{const a=this.getNodeForOption("setReturnFocus",{params:[t]});return a||(a===!1?!1:t)}),y(this,"getOption",(t,a,i)=>t&&t[a]!==void 0?t[a]:this.config[i||a]),y(this,"getNodeForOption",(t,{hasFallback:a=!1,params:i=[]}={})=>{let n=this.config[t];if(typeof n=="function"&&(n=n(...i)),n===!0&&(n=void 0),!n){if(n===void 0||n===!1)return n;throw new Error(`\`${t}\` was specified but was not a node, or did not return a node`)}let l=n;if(typeof n=="string"){try{l=this.doc.querySelector(n)}catch(f){throw new Error(`\`${t}\` appears to be an invalid selector; error="${f.message}"`)}if(!l&&!a)throw new Error(`\`${t}\` as selector refers to no known node`)}return l}),y(this,"findNextNavNode",t=>{const{event:a,isBackward:i=!1}=t,n=t.target||le(a);this.updateTabbableNodes();let l=null;if(this.state.tabbableGroups.length>0){const f=this.findContainerIndex(n,a),c=f>=0?this.state.containerGroups[f]:void 0;if(f<0)i?l=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:l=this.state.tabbableGroups[0].firstTabbableNode;else if(i){let h=this.state.tabbableGroups.findIndex(({firstTabbableNode:v})=>n===v);if(h<0&&(c?.container===n||Oe(n)&&!ie(n)&&!c?.nextTabbableNode(n,!1))&&(h=f),h>=0){const v=h===0?this.state.tabbableGroups.length-1:h-1,u=this.state.tabbableGroups[v];l=ee(n)>=0?u.lastTabbableNode:u.lastDomTabbableNode}else Fe(a)||(l=c?.nextTabbableNode(n,!1))}else{let h=this.state.tabbableGroups.findIndex(({lastTabbableNode:v})=>n===v);if(h<0&&(c?.container===n||Oe(n)&&!ie(n)&&!c?.nextTabbableNode(n))&&(h=f),h>=0){const v=h===this.state.tabbableGroups.length-1?0:h+1,u=this.state.tabbableGroups[v];l=ee(n)>=0?u.firstTabbableNode:u.firstDomTabbableNode}else Fe(a)||(l=c?.nextTabbableNode(n))}}else l=this.getNodeForOption("fallbackFocus");return l}),this.trapStack=s.trapStack||xs;const r={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,followControlledElements:!0,isKeyForward:Ds,isKeyBackward:Rs,...s};this.doc=r.document||Xe(Array.isArray(e)?e[0]:e),this.config=r,this.updateContainerElements(e),this.setupMutationObserver()}addPortalContainer(e){const s=e.parentElement;s&&!this.portalContainers.has(s)&&(this.portalContainers.add(s),this.state.active&&!this.state.paused&&this.observePortalContainer(s))}observePortalContainer(e){this._mutationObserver?.observe(e,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}updatePortalContainers(){this.config.followControlledElements&&this.state.containers.forEach(e=>{Bt(e).forEach(r=>{this.addPortalContainer(r)})})}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(e,s){const r=typeof s?.composedPath=="function"?s.composedPath():void 0;return this.state.containerGroups.findIndex(({container:t,tabbableNodes:a})=>t.contains(e)||r?.includes(t)||a.find(i=>i===e)||this.isControlledElement(t,e))}isControlledElement(e,s){return this.config.followControlledElements?$t(e,s):!1}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(e=>{const s=Lt(e,{getShadowRoot:this.config.getShadowRoot}),r=Mt(e,{getShadowRoot:this.config.getShadowRoot}),t=s[0],a=s[s.length-1],i=t,n=a;let l=!1;for(let c=0;c<s.length;c++)if(ee(s[c])>0){l=!0;break}function f(c,h=!0){const v=s.indexOf(c);if(v>=0)return s[v+(h?1:-1)];const u=r.indexOf(c);if(!(u<0)){if(h){for(let o=u+1;o<r.length;o++)if(ie(r[o]))return r[o]}else for(let o=u-1;o>=0;o--)if(ie(r[o]))return r[o]}}return{container:e,tabbableNodes:s,focusableNodes:r,posTabIndexesFound:l,firstTabbableNode:t,lastTabbableNode:a,firstDomTabbableNode:i,lastDomTabbableNode:n,nextTabbableNode:f}}),this.state.tabbableGroups=this.state.containerGroups.filter(e=>e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(e=>e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return je.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?He(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(U(this.doc,"focusin",this.handleFocus,!0),U(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),U(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),U(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),U(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),U(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(e=>e()),this.listenerCleanups=[],this}activate(e){if(this.state.active)return this;const s=this.getOption(e,"onActivate"),r=this.getOption(e,"onPostActivate"),t=this.getOption(e,"checkCanFocusTrap");t||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=ye(this.doc),s?.();const a=()=>{t&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),r?.()};return t?(t(this.state.containers.concat()).then(a,a),this):(a(),this)}},De=e=>e.type==="keydown",Fe=e=>De(e)&&e?.key==="Tab",Ds=e=>De(e)&&e.key==="Tab"&&!e?.shiftKey,Rs=e=>De(e)&&e.key==="Tab"&&e?.shiftKey,se=(e,...s)=>typeof e=="function"?e(...s):e,Ss=e=>!e.isComposing&&e.key==="Escape",He=e=>setTimeout(e,0),As=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";function Gs(e,s={}){let r;const t=Pe(()=>{const i=(Array.isArray(e)?e:[e]).map(l=>typeof l=="function"?l():l).filter(l=>l!=null);if(i.length===0)return;const n=i[0];r=new Is(i,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:n,...s,document:Xe(n)});try{r.activate()}catch{}});return function(){r?.deactivate(),t()}}var ke="data-scroll-lock";function Bs(e){const s=e.getBoundingClientRect().left;return Math.round(s)+e.scrollLeft?"paddingLeft":"paddingRight"}function qe(e){const r=Ye(e)?.scrollbarGutter;return r==="stable"||r?.startsWith("stable ")===!0}function $s(e){const s=e??document,r=s.defaultView??window,{documentElement:t,body:a}=s;if(a.hasAttribute(ke))return;const n=qe(t)||qe(a),l=r.innerWidth-t.clientWidth;a.setAttribute(ke,"");const f=()=>Ht(t,"--scrollbar-width",`${l}px`),c=Bs(t),h=()=>{const o={overflow:"hidden"};return!n&&l>0&&(o[c]=`${l}px`),Ke(a,o)},v=()=>{const{scrollX:o,scrollY:p,visualViewport:R}=r,B=R?.offsetLeft??0,K=R?.offsetTop??0,S={position:"fixed",overflow:"hidden",top:`${-(p-Math.floor(K))}px`,left:`${-(o-Math.floor(B))}px`,right:"0"};!n&&l>0&&(S[c]=`${l}px`);const Y=Ke(a,S);return()=>{Y?.(),r.scrollTo({left:o,top:p,behavior:"instant"})}},u=[f(),jt()?v():h()];return()=>{u.forEach(o=>o?.()),a.removeAttribute(ke)}}var Ls=Ut("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),W=Ls.build(),Je=e=>e.ids?.positioner??`dialog:${e.id}:positioner`,Qe=e=>e.ids?.backdrop??`dialog:${e.id}:backdrop`,Te=e=>e.ids?.content??`dialog:${e.id}:content`,et=e=>e.ids?.trigger??`dialog:${e.id}:trigger`,xe=e=>e.ids?.title??`dialog:${e.id}:title`,Ie=e=>e.ids?.description??`dialog:${e.id}:description`,tt=e=>e.ids?.closeTrigger??`dialog:${e.id}:close`,ue=e=>e.getById(Te(e)),Ms=e=>e.getById(Je(e)),Ks=e=>e.getById(Qe(e)),Vs=e=>e.getById(et(e)),Ws=e=>e.getById(xe(e)),js=e=>e.getById(Ie(e)),Hs=e=>e.getById(tt(e));function qs(e,s){const{state:r,send:t,context:a,prop:i,scope:n}=e,l=i("aria-label"),f=r.matches("open");return{open:f,setOpen(c){r.matches("open")!==c&&t({type:c?"OPEN":"CLOSE"})},getTriggerProps(){return s.button({...W.trigger.attrs,dir:i("dir"),id:et(n),"aria-haspopup":"dialog",type:"button","aria-expanded":f,"data-state":f?"open":"closed","aria-controls":Te(n),onClick(c){c.defaultPrevented||t({type:"TOGGLE"})}})},getBackdropProps(){return s.element({...W.backdrop.attrs,dir:i("dir"),hidden:!f,id:Qe(n),"data-state":f?"open":"closed"})},getPositionerProps(){return s.element({...W.positioner.attrs,dir:i("dir"),id:Je(n),style:{pointerEvents:f?void 0:"none"}})},getContentProps(){const c=a.get("rendered");return s.element({...W.content.attrs,dir:i("dir"),role:i("role"),hidden:!f,id:Te(n),tabIndex:-1,"data-state":f?"open":"closed","aria-modal":!0,"aria-label":l||void 0,"aria-labelledby":l||!c.title?void 0:xe(n),"aria-describedby":c.description?Ie(n):void 0})},getTitleProps(){return s.element({...W.title.attrs,dir:i("dir"),id:xe(n)})},getDescriptionProps(){return s.element({...W.description.attrs,dir:i("dir"),id:Ie(n)})},getCloseTriggerProps(){return s.button({...W.closeTrigger.attrs,dir:i("dir"),id:tt(n),type:"button",onClick(c){c.defaultPrevented||(c.stopPropagation(),t({type:"CLOSE"}))}})}}}var Us=qt({props({props:e,scope:s}){const r=e.role==="alertdialog",t=r?()=>Hs(s):void 0,a=typeof e.modal=="boolean"?e.modal:!0;return{role:"dialog",modal:a,trapFocus:a,preventScroll:a,closeOnInteractOutside:!r,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:t,...e}},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{rendered:e(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:e,action:s,prop:r}){e([()=>r("open")],()=>{s(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackDismissableElement({scope:e,send:s,prop:r}){return zt(()=>ue(e),{type:"dialog",defer:!0,pointerBlocking:r("modal"),exclude:[Vs(e)],onInteractOutside(a){r("onInteractOutside")?.(a),r("closeOnInteractOutside")||a.preventDefault()},persistentElements:r("persistentElements"),onFocusOutside:r("onFocusOutside"),onPointerDownOutside:r("onPointerDownOutside"),onRequestDismiss:r("onRequestDismiss"),onEscapeKeyDown(a){r("onEscapeKeyDown")?.(a),r("closeOnEscape")||a.preventDefault()},onDismiss(){s({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:e,prop:s}){if(s("preventScroll"))return $s(e.getDoc())},trapFocus({scope:e,prop:s}){return s("trapFocus")?Gs(()=>ue(e),{preventScroll:!0,returnFocusOnDeactivate:!!s("restoreFocus"),initialFocus:s("initialFocusEl"),setReturnFocus:t=>s("finalFocusEl")?.()??t,getShadowRoot:!0}):void 0},hideContentBelow({scope:e,prop:s}){return s("modal")?ks(()=>[ue(e)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:e,scope:s}){Pe(()=>{e.set("rendered",{title:!!Ws(s),description:!!js(s)})})},syncZIndex({scope:e}){Pe(()=>{const s=ue(e);if(!s)return;const r=Ye(s);[Ms(e),Ks(e)].forEach(a=>{a?.style.setProperty("--z-index",r.zIndex),a?.style.setProperty("--layer-index",r.getPropertyValue("--layer-index"))})})},invokeOnClose({prop:e}){e("onOpenChange")?.({open:!1})},invokeOnOpen({prop:e}){e("onOpenChange")?.({open:!0})},toggleVisibility({prop:e,send:s,event:r}){s({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})}}}}),zs=Jt()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]),Xs=Xt(zs);function Ys(e){const s=Qt(Us,e),r=b(()=>qs(s,es));return()=>d(r)}function Zs(e,s){const r=Et();I(s,!0);const t=M(s,["$$slots","$$events","$$legacy"]),a=b(()=>Xs(t)),i=b(()=>Ct(d(a),2)),n=b(()=>d(i)[0]),l=b(()=>d(i)[1]),f=b(()=>d(l).children),c=Ys(()=>({...d(n),id:r}));G.provide(()=>c());var h=C(),v=O(h);P(v,()=>d(f)??$),m(e,h),D()}var Js=T("<div><!></div>");function Qs(e,s){I(s,!0);const r=M(s,["$$slots","$$events","$$legacy"]),t=G.consume(),a=b(()=>s.element),i=b(()=>s.children),n=b(()=>j(r,["element","children"])),l=b(()=>H(t().getTitleProps(),d(n)));var f=C(),c=O(f);{var h=u=>{var o=C(),p=O(o);P(p,()=>d(a),()=>d(l)),m(u,o)},v=u=>{var o=Js();q(o,()=>({...d(l)}));var p=F(o);P(p,()=>d(i)??$),w(o),m(u,o)};L(c,u=>{d(a)?u(h):u(v,!1)})}m(e,f),D()}var ea=T("<button><!></button>");function ta(e,s){I(s,!0);const r=M(s,["$$slots","$$events","$$legacy"]),t=G.consume(),a=b(()=>s.element),i=b(()=>s.children),n=b(()=>j(r,["element","children"])),l=b(()=>H(t().getTriggerProps(),d(n)));var f=C(),c=O(f);{var h=u=>{var o=C(),p=O(o);P(p,()=>d(a),()=>d(l)),m(u,o)},v=u=>{var o=ea();q(o,()=>({...d(l)}));var p=F(o);P(p,()=>d(i)??$),w(o),m(u,o)};L(c,u=>{d(a)?u(h):u(v,!1)})}m(e,f),D()}const X=Object.assign(Zs,{Provider:_s,Context:ms,Trigger:ta,Backdrop:cs,Positioner:gs,Content:hs,Title:Qs,Description:vs,CloseTrigger:us});function sa(e,s){I(s,!0);const r=Nt(),t=b(()=>s.children),a=b(()=>Me(s.disabled,!1)),i=b(()=>Me(s.target,()=>typeof window>"u"?void 0:document.body,!0));Ue(()=>{if(d(a)||!d(i))return;const c=wt(d(t),{target:d(i),context:r});return()=>Ft(c)});var n=C(),l=O(n);{var f=c=>{var h=C(),v=O(h);P(v,()=>d(t)),m(c,h)};L(l,c=>{(d(a)||!d(i))&&c(f)})}m(e,n),D()}const aa=sa,ra=!0,oa=!0,na=!1,xa=Object.freeze(Object.defineProperty({__proto__:null,csr:oa,prerender:ra,ssr:na},Symbol.toStringTag,{value:"Module"}));var ia=T("<option> </option>"),la=T("<button> </button>"),ca=T('<header class="flex justify-between items-center pywebview-drag-region can-drag"><!></header> <!> <footer class="flex justify-center gap-10 select-none  px-[10px] py-[10px]"><button title="Cancel" class="btn btn-base preset-tonal font-title"> </button> <button title="Update" type="button" class="btn btn-base preset-filled-primary-500 font-title"> </button></footer>',1),da=T("<!> <!>",1),ua=T('<div><div><label class="label"><select></select></label> <label class="label"><input class=" input-style w-full border-radius font-text select-text" type="search" maxlength="1200"/></label></div> <div><button>删除历史</button> <button>重新输入</button> <button>搜 索</button></div> <div></div></div> <!>',1);function fa(e,s){I(s,!0);let r=me(N.get_route()),t=_e("");const a=Yt.app.app_class+"search_selected",i=a+"_history",n="#@#"+i+"#@#";let l=_e(me([])),f=me([]),c=_e(!1);const h={close_dialog(){V(c,!1)},open_dialog(){V(c,!0)},create_select(){V(l,[{name:"Bing",value:"bing",url:"https://www.bing.com/?ensearch=1&q=",selected:"selected"}],!0),N.get_db_data(a).then(g=>{g||(g="bing");let _=Ee[g];_?(_.name,_.url,V(l,[],!0),Object.keys(Ee).forEach(E=>{let k=Ee[E],x=g===E?"selected":"";d(l).push({name:k.name,value:E,url:k.url,selected:x})})):N.notice("DB Error")})},update_select(g){let _=g.target.value;N.set_db_data(a,_).then(E=>{N.console_log("update_select=",_,E)})},filter_array(g=""){return g},show_history(g=""){},input_history(g=""){let _=this;return new Promise(E=>{N.get_db_data(i).then(k=>{k?k=k+n+g:k=n+g;let x=_.filter_array(k);N.set_db_data(i,x).then(fe=>{_.show_history(x),E(x)})})})},input_enter(g){let _=this;g.key==="Enter"&&(console.log("Enter pressed:",d(t)),_.input_run_search())},input_run_search(){let g=this,_=d(t).trim();_?g.input_history(_).then(E=>{g.input_clear_write(),N.get_db_data(a).then(k=>{k||(k="bing");let x="./search?word="+encodeURIComponent(_)+"&engine="+k+"&url_timeout="+N.url_timeout_encode("search",360*60)+"&ap=ipt";N.open_url_with_default_browser(x)})}):N.notice(N.get_translate("input_null"))},input_auto_write(g=""){V(t,g,!0)},input_clear_write(){this.input_auto_write("")},input_del_history(){N.loading_show(),N.del_db_data(a).then(g=>{V(c,!1),N.loading_hide()})}};function v(){console.log("page_start()=",r),h.create_select()}Ue(()=>{}),St(()=>{!os()||!ns()||v()}),Pt(()=>{});var u=ua(),o=O(u),p=F(o),R=F(p),B=F(R);B.__change=g=>h.update_select(g),Ve(B,21,()=>d(l),We,(g,_)=>{var E=ia(),k=F(E,!0);w(E);var x={};oe(()=>{rs(E,d(_).selected),ne(k,d(_).name),x!==(x=d(_).value)&&(E.value=(E.__value=d(_).value)??"")}),m(g,E)}),w(B),w(R);var K=A(R,2),S=F(K);as(S),S.__keydown=g=>h.input_enter(g),w(K),w(p);var Y=A(p,2),Re=F(Y);Re.__click=()=>h.open_dialog();var Se=A(Re,2);Se.__click=()=>h.input_clear_write();var st=A(Se,2);st.__click=()=>h.input_run_search(),w(Y);var Ae=A(Y,2);Ve(Ae,21,()=>f,We,(g,_)=>{var E=la();E.__click=()=>h.input_auto_write(d(_));var k=F(E,!0);w(E),oe(()=>ne(k,"# "+d(_))),m(g,E)}),w(Ae),w(o);var at=A(o,2);X(at,{closeOnInteractOutside:!1,closeOnEscape:!1,get open(){return d(c)},onOpenChange:()=>{},children:(g,_)=>{aa(g,{children:(E,k)=>{var x=da(),fe=O(x);te(fe,()=>X.Backdrop,(he,pe)=>{pe(he,{class:"fixed inset-0 z-50 bg-surface-50-950/80  select-none"})});var rt=A(fe,2);te(rt,()=>X.Positioner,(he,pe)=>{pe(he,{class:"fixed inset-0 z-50 flex justify-center items-center font-text select-none",children:(ot,va)=>{var Ge=C(),nt=O(Ge);te(nt,()=>X.Content,(it,lt)=>{lt(it,{class:"card bg-neutral-100 dark:bg-neutral-800 w-full max-w-xs p-4 space-y-4 shadow-xl transition transition-discrete opacity-0 translate-y-[100px] starting:data-[state=open]:opacity-0 starting:data-[state=open]:translate-y-[100px] data-[state=open]:opacity-100 data-[state=open]:translate-y-0  px-[10px] py-[10px] border-radius",children:(ct,ba)=>{var Be=ca(),ve=O(Be),dt=F(ve);te(dt,()=>X.Title,(Z,J)=>{J(Z,{class:"font-title font-bold",children:(ge,ht)=>{ze();var re=xt("⚠️");m(ge,re)},$$slots:{default:!0}})}),w(ve);var $e=A(ve,2);te($e,()=>X.Description,(Z,J)=>{J(Z,{class:"font-text select-text",children:(ge,ht)=>{var re=C(),pt=O(re);ts(pt,()=>N.get_translate("remove_help_2")),m(ge,re)},$$slots:{default:!0}})});var Le=A($e,2),ae=F(Le);ae.__click=()=>h.close_dialog();var ut=F(ae,!0);w(ae);var be=A(ae,2);be.__click=()=>h.input_del_history();var ft=F(be,!0);w(be),w(Le),oe((Z,J)=>{ne(ut,Z),ne(ft,J)},[()=>N.get_translate("btn_cancel"),()=>N.get_translate("remove")]),m(ct,Be)},$$slots:{default:!0}})}),m(ot,Ge)},$$slots:{default:!0}})}),m(E,x)},$$slots:{default:!0}})},$$slots:{default:!0}}),oe(g=>ss(S,"placeholder",g),[()=>N.get_translate("input_placeholder_search")]),Tt("mouseenter",S,g=>g.currentTarget.focus()),is(S,()=>d(t),g=>V(t,g)),m(e,u),D()}kt(["change","keydown","click"]);var ha=T('<meta name="keywords" content=""/> <meta name="description" content=""/>',1),pa=T('<section class="section-main scroll-y-style bg-neutral-100 dark:bg-neutral-900"><!></section>');function Ia(e,s){I(s,!1),vt();var r=pa();Rt("1j6ictg",a=>{var i=ha();ze(2),It(n=>{Dt.title=n??""},[()=>N.get_translate("Home")]),m(a,i)});var t=F(r);fa(t,{}),w(r),m(e,r),D()}export{Ia as component,xa as universal};
